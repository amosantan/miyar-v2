{
  "query": "CREATE TABLE `benchmark_proposals` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`benchmarkKey` varchar(255) NOT NULL,\n\t`currentTypical` decimal(12,2),\n\t`currentMin` decimal(12,2),\n\t`currentMax` decimal(12,2),\n\t`proposedP25` decimal(12,2) NOT NULL,\n\t`proposedP50` decimal(12,2) NOT NULL,\n\t`proposedP75` decimal(12,2) NOT NULL,\n\t`weightedMean` decimal(12,2) NOT NULL,\n\t`deltaPct` decimal(8,2),\n\t`evidenceCount` int NOT NULL,\n\t`sourceDiversity` int NOT NULL,\n\t`reliabilityDist` json NOT NULL,\n\t`recencyDist` json NOT NULL,\n\t`confidenceScore` int NOT NULL,\n\t`impactNotes` text,\n\t`recommendation` enum('publish','reject') NOT NULL,\n\t`rejectionReason` text,\n\t`status` enum('pending','approved','rejected') NOT NULL DEFAULT 'pending',\n\t`reviewerNotes` text,\n\t`reviewedBy` int,\n\t`reviewedAt` timestamp,\n\t`benchmarkSnapshotId` int,\n\t`runId` varchar(64),\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `benchmark_proposals_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `benchmark_snapshots` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`benchmarkVersionId` int,\n\t`snapshotJson` json NOT NULL,\n\t`description` text,\n\t`createdBy` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `benchmark_snapshots_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `competitor_entities` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`headquarters` varchar(255),\n\t`segmentFocus` enum('affordable','mid','premium','luxury','ultra_luxury','mixed') DEFAULT 'mixed',\n\t`website` text,\n\t`logoUrl` text,\n\t`notes` text,\n\t`createdBy` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `competitor_entities_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `competitor_projects` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`competitorId` int NOT NULL,\n\t`projectName` varchar(255) NOT NULL,\n\t`location` varchar(255),\n\t`segment` enum('affordable','mid','premium','luxury','ultra_luxury'),\n\t`assetType` enum('residential','commercial','hospitality','mixed_use') DEFAULT 'residential',\n\t`positioningKeywords` json,\n\t`interiorStyleSignals` json,\n\t`materialCues` json,\n\t`amenityList` json,\n\t`unitMix` text,\n\t`priceIndicators` json,\n\t`salesMessaging` json,\n\t`differentiationClaims` json,\n\t`completionStatus` enum('announced','under_construction','completed','sold_out'),\n\t`launchDate` varchar(32),\n\t`totalUnits` int,\n\t`architect` varchar(255),\n\t`interiorDesigner` varchar(255),\n\t`sourceUrl` text,\n\t`captureDate` timestamp,\n\t`evidenceCitations` json,\n\t`completenessScore` int,\n\t`runId` varchar(64),\n\t`createdBy` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `competitor_projects_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `entity_tags` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`tagId` int NOT NULL,\n\t`entityType` enum('competitor_project','scenario','evidence_record','project') NOT NULL,\n\t`entityId` int NOT NULL,\n\t`addedBy` int,\n\t`addedAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `entity_tags_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `evidence_records` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`recordId` varchar(64) NOT NULL,\n\t`projectId` int,\n\t`sourceRegistryId` int,\n\t`category` enum('floors','walls','ceilings','joinery','lighting','sanitary','kitchen','hardware','ffe','other') NOT NULL,\n\t`itemName` varchar(255) NOT NULL,\n\t`specClass` varchar(128),\n\t`priceMin` decimal(12,2),\n\t`priceTypical` decimal(12,2),\n\t`priceMax` decimal(12,2),\n\t`unit` varchar(32) NOT NULL,\n\t`currencyOriginal` varchar(8) DEFAULT 'AED',\n\t`currencyAed` decimal(12,2),\n\t`fxRate` decimal(10,6),\n\t`fxSource` text,\n\t`sourceUrl` text NOT NULL,\n\t`publisher` varchar(255),\n\t`captureDate` timestamp NOT NULL,\n\t`reliabilityGrade` enum('A','B','C') NOT NULL,\n\t`confidenceScore` int NOT NULL,\n\t`extractedSnippet` text,\n\t`notes` text,\n\t`runId` varchar(64),\n\t`createdBy` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `evidence_records_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `evidence_records_recordId_unique` UNIQUE(`recordId`)\n);\n\nCREATE TABLE `intelligence_audit_log` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`runType` enum('price_extraction','competitor_extraction','benchmark_proposal','manual_entry') NOT NULL,\n\t`runId` varchar(64) NOT NULL,\n\t`actor` int,\n\t`inputSummary` json,\n\t`outputSummary` json,\n\t`sourcesProcessed` int DEFAULT 0,\n\t`recordsExtracted` int DEFAULT 0,\n\t`errors` int DEFAULT 0,\n\t`errorDetails` json,\n\t`startedAt` timestamp NOT NULL,\n\t`completedAt` timestamp,\n\tCONSTRAINT `intelligence_audit_log_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `intelligence_audit_log_runId_unique` UNIQUE(`runId`)\n);\n\nCREATE TABLE `source_registry` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`url` text NOT NULL,\n\t`sourceType` enum('supplier_catalog','manufacturer_catalog','developer_brochure','industry_report','government_tender','procurement_portal','trade_publication','retailer_listing','aggregator','other') NOT NULL,\n\t`reliabilityDefault` enum('A','B','C') NOT NULL DEFAULT 'B',\n\t`isWhitelisted` boolean NOT NULL DEFAULT true,\n\t`region` varchar(64) DEFAULT 'UAE',\n\t`notes` text,\n\t`addedBy` int,\n\t`addedAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `source_registry_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `trend_tags` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(128) NOT NULL,\n\t`category` enum('material_trend','design_trend','market_trend','buyer_preference','sustainability','technology','pricing','other') NOT NULL,\n\t`description` text,\n\t`createdBy` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `trend_tags_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `trend_tags_name_unique` UNIQUE(`name`)\n);",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3qjjvhuo9AvMUPD.984bcc8a4c01 --database Qjy3c67dUhuYfoZUKPnMuR --execute CREATE TABLE `benchmark_proposals` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`benchmarkKey` varchar(255) NOT NULL,\n\t`currentTypical` decimal(12,2),\n\t`currentMin` decimal(12,2),\n\t`currentMax` decimal(12,2),\n\t`proposedP25` decimal(12,2) NOT NULL,\n\t`proposedP50` decimal(12,2) NOT NULL,\n\t`proposedP75` decimal(12,2) NOT NULL,\n\t`weightedMean` decimal(12,2) NOT NULL,\n\t`deltaPct` decimal(8,2),\n\t`evidenceCount` int NOT NULL,\n\t`sourceDiversity` int NOT NULL,\n\t`reliabilityDist` json NOT NULL,\n\t`recencyDist` json NOT NULL,\n\t`confidenceScore` int NOT NULL,\n\t`impactNotes` text,\n\t`recommendation` enum('publish','reject') NOT NULL,\n\t`rejectionReason` text,\n\t`status` enum('pending','approved','rejected') NOT NULL DEFAULT 'pending',\n\t`reviewerNotes` text,\n\t`reviewedBy` int,\n\t`reviewedAt` timestamp,\n\t`benchmarkSnapshotId` int,\n\t`runId` varchar(64),\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `benchmark_proposals_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `benchmark_snapshots` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`benchmarkVersionId` int,\n\t`snapshotJson` json NOT NULL,\n\t`description` text,\n\t`createdBy` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `benchmark_snapshots_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `competitor_entities` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`headquarters` varchar(255),\n\t`segmentFocus` enum('affordable','mid','premium','luxury','ultra_luxury','mixed') DEFAULT 'mixed',\n\t`website` text,\n\t`logoUrl` text,\n\t`notes` text,\n\t`createdBy` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `competitor_entities_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `competitor_projects` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`competitorId` int NOT NULL,\n\t`projectName` varchar(255) NOT NULL,\n\t`location` varchar(255),\n\t`segment` enum('affordable','mid','premium','luxury','ultra_luxury'),\n\t`assetType` enum('residential','commercial','hospitality','mixed_use') DEFAULT 'residential',\n\t`positioningKeywords` json,\n\t`interiorStyleSignals` json,\n\t`materialCues` json,\n\t`amenityList` json,\n\t`unitMix` text,\n\t`priceIndicators` json,\n\t`salesMessaging` json,\n\t`differentiationClaims` json,\n\t`completionStatus` enum('announced','under_construction','completed','sold_out'),\n\t`launchDate` varchar(32),\n\t`totalUnits` int,\n\t`architect` varchar(255),\n\t`interiorDesigner` varchar(255),\n\t`sourceUrl` text,\n\t`captureDate` timestamp,\n\t`evidenceCitations` json,\n\t`completenessScore` int,\n\t`runId` varchar(64),\n\t`createdBy` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `competitor_projects_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `entity_tags` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`tagId` int NOT NULL,\n\t`entityType` enum('competitor_project','scenario','evidence_record','project') NOT NULL,\n\t`entityId` int NOT NULL,\n\t`addedBy` int,\n\t`addedAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `entity_tags_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `evidence_records` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`recordId` varchar(64) NOT NULL,\n\t`projectId` int,\n\t`sourceRegistryId` int,\n\t`category` enum('floors','walls','ceilings','joinery','lighting','sanitary','kitchen','hardware','ffe','other') NOT NULL,\n\t`itemName` varchar(255) NOT NULL,\n\t`specClass` varchar(128),\n\t`priceMin` decimal(12,2),\n\t`priceTypical` decimal(12,2),\n\t`priceMax` decimal(12,2),\n\t`unit` varchar(32) NOT NULL,\n\t`currencyOriginal` varchar(8) DEFAULT 'AED',\n\t`currencyAed` decimal(12,2),\n\t`fxRate` decimal(10,6),\n\t`fxSource` text,\n\t`sourceUrl` text NOT NULL,\n\t`publisher` varchar(255),\n\t`captureDate` timestamp NOT NULL,\n\t`reliabilityGrade` enum('A','B','C') NOT NULL,\n\t`confidenceScore` int NOT NULL,\n\t`extractedSnippet` text,\n\t`notes` text,\n\t`runId` varchar(64),\n\t`createdBy` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `evidence_records_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `evidence_records_recordId_unique` UNIQUE(`recordId`)\n);\n\nCREATE TABLE `intelligence_audit_log` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`runType` enum('price_extraction','competitor_extraction','benchmark_proposal','manual_entry') NOT NULL,\n\t`runId` varchar(64) NOT NULL,\n\t`actor` int,\n\t`inputSummary` json,\n\t`outputSummary` json,\n\t`sourcesProcessed` int DEFAULT 0,\n\t`recordsExtracted` int DEFAULT 0,\n\t`errors` int DEFAULT 0,\n\t`errorDetails` json,\n\t`startedAt` timestamp NOT NULL,\n\t`completedAt` timestamp,\n\tCONSTRAINT `intelligence_audit_log_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `intelligence_audit_log_runId_unique` UNIQUE(`runId`)\n);\n\nCREATE TABLE `source_registry` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`url` text NOT NULL,\n\t`sourceType` enum('supplier_catalog','manufacturer_catalog','developer_brochure','industry_report','government_tender','procurement_portal','trade_publication','retailer_listing','aggregator','other') NOT NULL,\n\t`reliabilityDefault` enum('A','B','C') NOT NULL DEFAULT 'B',\n\t`isWhitelisted` boolean NOT NULL DEFAULT true,\n\t`region` varchar(64) DEFAULT 'UAE',\n\t`notes` text,\n\t`addedBy` int,\n\t`addedAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\tCONSTRAINT `source_registry_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `trend_tags` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(128) NOT NULL,\n\t`category` enum('material_trend','design_trend','market_trend','buyer_preference','sustainability','technology','pricing','other') NOT NULL,\n\t`description` text,\n\t`createdBy` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `trend_tags_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `trend_tags_name_unique` UNIQUE(`name`)\n);",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 4691
}