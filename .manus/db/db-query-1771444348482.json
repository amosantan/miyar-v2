{
  "query": "CREATE TABLE `benchmark_categories` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`category` enum('materials','finishes','ffe','procurement','cost_bands','tier_definitions','style_families','brand_archetypes','risk_factors','lead_times') NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`description` text,\n\t`market` varchar(64) NOT NULL DEFAULT 'UAE',\n\t`submarket` varchar(64) DEFAULT 'Dubai',\n\t`projectClass` enum('mid','upper','luxury','ultra_luxury') NOT NULL,\n\t`validFrom` timestamp,\n\t`validTo` timestamp,\n\t`confidenceLevel` enum('high','medium','low') DEFAULT 'medium',\n\t`sourceType` enum('manual','admin','imported','curated') DEFAULT 'admin',\n\t`benchmarkVersionId` int,\n\t`data` json NOT NULL,\n\t`versionTag` varchar(64),\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\t`createdBy` int,\n\tCONSTRAINT `benchmark_categories_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `benchmark_versions` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`versionTag` varchar(64) NOT NULL,\n\t`description` text,\n\t`status` enum('draft','published','archived') NOT NULL DEFAULT 'draft',\n\t`publishedAt` timestamp,\n\t`publishedBy` int,\n\t`recordCount` int DEFAULT 0,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`createdBy` int,\n\tCONSTRAINT `benchmark_versions_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `benchmark_versions_versionTag_unique` UNIQUE(`versionTag`)\n);\n\nCREATE TABLE `project_intelligence` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`projectId` int NOT NULL,\n\t`scoreMatrixId` int NOT NULL,\n\t`benchmarkVersionId` int,\n\t`modelVersionId` int,\n\t`costDeltaVsBenchmark` decimal(10,2),\n\t`uniquenessIndex` decimal(6,4),\n\t`feasibilityFlags` json,\n\t`reworkRiskIndex` decimal(6,4),\n\t`procurementComplexity` decimal(6,4),\n\t`tierPercentile` decimal(6,4),\n\t`styleFamily` varchar(64),\n\t`costBand` varchar(32),\n\t`inputSnapshot` json,\n\t`scoreSnapshot` json,\n\t`computedAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `project_intelligence_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `roi_configs` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(128) NOT NULL,\n\t`isActive` boolean NOT NULL DEFAULT false,\n\t`hourlyRate` decimal(10,2) NOT NULL DEFAULT '350',\n\t`reworkCostPct` decimal(6,4) NOT NULL DEFAULT '0.12',\n\t`tenderIterationCost` decimal(10,2) NOT NULL DEFAULT '25000',\n\t`designCycleCost` decimal(10,2) NOT NULL DEFAULT '45000',\n\t`budgetVarianceMultiplier` decimal(6,4) NOT NULL DEFAULT '0.08',\n\t`timeAccelerationWeeks` int DEFAULT 6,\n\t`conservativeMultiplier` decimal(6,4) NOT NULL DEFAULT '0.60',\n\t`aggressiveMultiplier` decimal(6,4) NOT NULL DEFAULT '1.40',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`createdBy` int,\n\tCONSTRAINT `roi_configs_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `webhook_configs` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`url` text NOT NULL,\n\t`secret` varchar(255),\n\t`events` json NOT NULL,\n\t`fieldMapping` json,\n\t`isActive` boolean NOT NULL DEFAULT true,\n\t`lastTriggeredAt` timestamp,\n\t`lastStatus` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`createdBy` int,\n\tCONSTRAINT `webhook_configs_id` PRIMARY KEY(`id`)\n);\n\nALTER TABLE `report_instances` MODIFY COLUMN `reportType` enum('executive_pack','full_technical','tender_brief','executive_decision_pack','design_brief_rfq','marketing_starter','validation_summary','design_brief','rfq_pack','full_report') NOT NULL;\n\nALTER TABLE `audit_logs` ADD `benchmarkVersionId` int;\nALTER TABLE `audit_logs` ADD `modelVersionId` int;\nALTER TABLE `benchmark_data` ADD `benchmarkVersionId` int;\nALTER TABLE `report_instances` ADD `bundleUrl` text;\nALTER TABLE `report_instances` ADD `benchmarkVersionId` int;\nALTER TABLE `report_instances` ADD `modelVersionId` int;\nALTER TABLE `scenarios` ADD `isTemplate` boolean DEFAULT false;\nALTER TABLE `scenarios` ADD `templateKey` varchar(64);\nALTER TABLE `score_matrices` ADD `benchmarkVersionId` int;",
  "command": "mysql --batch --raw --column-names --default-character-set=utf8mb4 --host gateway02.us-east-1.prod.aws.tidbcloud.com --port 4000 --user 3qjjvhuo9AvMUPD.984bcc8a4c01 --database Qjy3c67dUhuYfoZUKPnMuR --execute CREATE TABLE `benchmark_categories` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`category` enum('materials','finishes','ffe','procurement','cost_bands','tier_definitions','style_families','brand_archetypes','risk_factors','lead_times') NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`description` text,\n\t`market` varchar(64) NOT NULL DEFAULT 'UAE',\n\t`submarket` varchar(64) DEFAULT 'Dubai',\n\t`projectClass` enum('mid','upper','luxury','ultra_luxury') NOT NULL,\n\t`validFrom` timestamp,\n\t`validTo` timestamp,\n\t`confidenceLevel` enum('high','medium','low') DEFAULT 'medium',\n\t`sourceType` enum('manual','admin','imported','curated') DEFAULT 'admin',\n\t`benchmarkVersionId` int,\n\t`data` json NOT NULL,\n\t`versionTag` varchar(64),\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`updatedAt` timestamp NOT NULL DEFAULT (now()) ON UPDATE CURRENT_TIMESTAMP,\n\t`createdBy` int,\n\tCONSTRAINT `benchmark_categories_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `benchmark_versions` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`versionTag` varchar(64) NOT NULL,\n\t`description` text,\n\t`status` enum('draft','published','archived') NOT NULL DEFAULT 'draft',\n\t`publishedAt` timestamp,\n\t`publishedBy` int,\n\t`recordCount` int DEFAULT 0,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`createdBy` int,\n\tCONSTRAINT `benchmark_versions_id` PRIMARY KEY(`id`),\n\tCONSTRAINT `benchmark_versions_versionTag_unique` UNIQUE(`versionTag`)\n);\n\nCREATE TABLE `project_intelligence` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`projectId` int NOT NULL,\n\t`scoreMatrixId` int NOT NULL,\n\t`benchmarkVersionId` int,\n\t`modelVersionId` int,\n\t`costDeltaVsBenchmark` decimal(10,2),\n\t`uniquenessIndex` decimal(6,4),\n\t`feasibilityFlags` json,\n\t`reworkRiskIndex` decimal(6,4),\n\t`procurementComplexity` decimal(6,4),\n\t`tierPercentile` decimal(6,4),\n\t`styleFamily` varchar(64),\n\t`costBand` varchar(32),\n\t`inputSnapshot` json,\n\t`scoreSnapshot` json,\n\t`computedAt` timestamp NOT NULL DEFAULT (now()),\n\tCONSTRAINT `project_intelligence_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `roi_configs` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(128) NOT NULL,\n\t`isActive` boolean NOT NULL DEFAULT false,\n\t`hourlyRate` decimal(10,2) NOT NULL DEFAULT '350',\n\t`reworkCostPct` decimal(6,4) NOT NULL DEFAULT '0.12',\n\t`tenderIterationCost` decimal(10,2) NOT NULL DEFAULT '25000',\n\t`designCycleCost` decimal(10,2) NOT NULL DEFAULT '45000',\n\t`budgetVarianceMultiplier` decimal(6,4) NOT NULL DEFAULT '0.08',\n\t`timeAccelerationWeeks` int DEFAULT 6,\n\t`conservativeMultiplier` decimal(6,4) NOT NULL DEFAULT '0.60',\n\t`aggressiveMultiplier` decimal(6,4) NOT NULL DEFAULT '1.40',\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`createdBy` int,\n\tCONSTRAINT `roi_configs_id` PRIMARY KEY(`id`)\n);\n\nCREATE TABLE `webhook_configs` (\n\t`id` int AUTO_INCREMENT NOT NULL,\n\t`name` varchar(255) NOT NULL,\n\t`url` text NOT NULL,\n\t`secret` varchar(255),\n\t`events` json NOT NULL,\n\t`fieldMapping` json,\n\t`isActive` boolean NOT NULL DEFAULT true,\n\t`lastTriggeredAt` timestamp,\n\t`lastStatus` int,\n\t`createdAt` timestamp NOT NULL DEFAULT (now()),\n\t`createdBy` int,\n\tCONSTRAINT `webhook_configs_id` PRIMARY KEY(`id`)\n);\n\nALTER TABLE `report_instances` MODIFY COLUMN `reportType` enum('executive_pack','full_technical','tender_brief','executive_decision_pack','design_brief_rfq','marketing_starter','validation_summary','design_brief','rfq_pack','full_report') NOT NULL;\n\nALTER TABLE `audit_logs` ADD `benchmarkVersionId` int;\nALTER TABLE `audit_logs` ADD `modelVersionId` int;\nALTER TABLE `benchmark_data` ADD `benchmarkVersionId` int;\nALTER TABLE `report_instances` ADD `bundleUrl` text;\nALTER TABLE `report_instances` ADD `benchmarkVersionId` int;\nALTER TABLE `report_instances` ADD `modelVersionId` int;\nALTER TABLE `scenarios` ADD `isTemplate` boolean DEFAULT false;\nALTER TABLE `scenarios` ADD `templateKey` varchar(64);\nALTER TABLE `score_matrices` ADD `benchmarkVersionId` int;",
  "rows": [],
  "messages": [],
  "stdout": "",
  "stderr": "",
  "execution_time_ms": 11106
}