# MIYAR V8 â€” DESIGN INTELLIGENCE LAYER TASK LIST

## ðŸ”´ PRIORITY 0 â€” MATERIAL LIBRARY DATABASE
- [ ] V8-00: Create `materialLibrary` table in `server/db/schema.ts` (Table 59)
- [ ] V8-00: Create `seed-material-library.mjs` script with provided seed data
- [ ] V8-00: Create color palette seed data (JSON structure for V8-04)
- [ ] V8-00: Generate and run migration 0025

## ðŸŸ  PRIORITY 1 â€” DESIGN VOCABULARY ENGINE
- [ ] V8-01: Create `server/engines/design/vocabulary.ts`
- [ ] V8-01: Implement `buildDesignVocabulary` (deterministic logic)

## ðŸŸ¡ PRIORITY 2 â€” SPACE PROGRAMMING ENGINE
- [ ] V8-02: Create `server/engines/design/space-program.ts`
- [ ] V8-02: Implement `buildSpaceProgram` and deterministic logic for fit-out budgets

## ðŸŸ¢ PRIORITY 3 â€” FINISH SCHEDULE & MATERIAL SELECTOR
- [ ] V8-03: Create `finishScheduleItems` table in schema (Table 60)
- [ ] V8-03: Generate and run migration 0026
- [ ] V8-03: Create `server/engines/design/finish-schedule.ts`
- [ ] V8-03: Implement `buildFinishSchedule` (tier matching and fallback logic)
- [ ] V8-04: Create `projectColorPalettes` table in schema (Table 61)
- [ ] V8-04: Generate and run migration 0027
- [ ] V8-04: Create `server/engines/design/color-palette.ts`
- [ ] V8-04: Implement `buildColorPalette` (invokeLLM for rationale only)
- [ ] V8-05: Create `rfqLineItems` table in schema (Table 62)
- [ ] V8-05: Generate and run migration 0028
- [ ] V8-05: Create `server/engines/design/rfq-generator.ts`
- [ ] V8-05: Implement `buildRFQPack`

## ðŸ”µ PRIORITY 4 â€” DM/DDA COMPLIANCE CHECKLIST
- [ ] V8-06: Create `dmComplianceChecklists` table in schema (Table 63)
- [ ] V8-06: Generate and run migration 0029
- [ ] V8-06: Create `server/engines/design/dm-compliance.ts`
- [ ] V8-06: Implement `buildDMChecklist`

## âšª PRIORITY 5 â€” DESIGN BRIEF DOCUMENT REBUILD
- [ ] V8-07: Update [server/engines/autonomous/document-generator.ts](file:///Users/amrosaleh/Maiyar/miyar-v2/server/engines/autonomous/document-generator.ts) for Design Vocabulary Narrative (Gemini prompts)
- [ ] V8-08: Create new 9-page Design Brief HTML template in [server/engines/pdf-report.ts](file:///Users/amrosaleh/Maiyar/miyar-v2/server/engines/pdf-report.ts) (or new file)
- [ ] V8-09: Update [server/routers/design.ts](file:///Users/amrosaleh/Maiyar/miyar-v2/server/routers/design.ts) with newly assembled `generateBrief` execution pipeline

## ðŸŸ£ PRIORITY 6 â€” TEST SUITE
- [ ] V8-10: Create `server/engines/design/vocabulary.test.ts` (20+ tests)
- [ ] V8-10: Create `server/engines/design/space-program.test.ts` (20+ tests)
- [ ] V8-10: Create `server/engines/design/finish-schedule.test.ts` (15+ tests)
- [ ] V8-10: Create `server/engines/design/color-palette.test.ts` (10+ tests)
- [ ] V8-10: Create `server/engines/design/rfq-generator.test.ts` (15+ tests)
- [ ] V8-10: Create `server/engines/design/dm-compliance.test.ts` (10+ tests)
- [ ] Confirm â‰¥ 700 functions and 0 regressions
- [ ] Confirm 0 TypeScript errors

## âš« PRIORITY 7 â€” V8 PHASE REALITY REPORT
- [ ] Generate `v8_phase_reality_report.md` with all 7 requested sections
